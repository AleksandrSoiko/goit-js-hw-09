{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAgBC,SAASC,cAAc,qBACvCC,EAAeF,SAASC,cAAc,oBACtCE,EAAiBH,SAASC,cAAc,sBAiB9C,SAASG,EAAcC,EAAUC,GACf,IAAIC,SAAQ,SAACC,EAASC,GACdC,KAAKC,SAAW,GAEpCH,EAAQ,CAAEI,SAAAP,EAAUQ,MAAAP,IAEpBG,EAAO,CAAEG,SAAAP,EAAUQ,MAAAP,G,IAIpBQ,MAAK,SAAAC,G,IAAGH,EAAQG,EAARH,SAAUC,EAAKE,EAALF,MACjBG,EAAAnB,GAASoB,OAAOC,QACd,uBAA4CC,OAAnBP,EAAW,EAAE,QAAYO,OAANN,EAAM,M,IAGrDO,OAAM,SAAAL,G,IAAGH,EAAQG,EAARH,SAAUC,EAAKE,EAALF,MAClBG,EAAAnB,GAASoB,OAAOI,QACd,sBAAyCF,OAAnBP,EAAW,EAAE,QAAYO,OAANN,EAAM,M,IAGlDS,QACEvB,EAAcwB,MAAQ,GACtBrB,EAAaqB,MAAQ,GACrBpB,EAAeoB,MAAQ,G,CAvCFvB,SAASC,cAAc,UAC/BuB,iBAAiB,SAAS,SAAAC,GAC5CA,EAAMC,iBAOR,SAAgCC,EAAUd,EAAOe,GAC/C,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAUE,GAAK,EACjCC,WAAW1B,EAAeS,EAAOgB,EAAGhB,GACpCA,GAASe,C,CANXG,CAHwB5B,EAAeoB,MACnBS,OAAOjC,EAAcwB,OACpBS,OAAO9B,EAAaqB,O","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst delayValueRef = document.querySelector('input[name=delay]');\nconst stepValueRef = document.querySelector('input[name=step]');\nconst amountValueRef = document.querySelector('input[name=amount]');\nconst createPromiseButton = document.querySelector('button');\ncreatePromiseButton.addEventListener('click', event => {\n  event.preventDefault();\n  const quantityPromise = amountValueRef.value;\n  let DELAY_PROMICE = Number(delayValueRef.value);\n  const STEP_PROMISE = Number(stepValueRef.value);\n  startGenerationPromise(quantityPromise, DELAY_PROMICE, STEP_PROMISE);\n});\n\nfunction startGenerationPromise(quantity, delay, step) {\n  for (let i = 0; i < quantity; i += 1) {\n    setTimeout(createPromise, delay, i, delay);\n    delay += step;\n  }\n}\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  });\n  promise\n    .then(({ position, delay }) => {\n      Notiflix.Notify.success(\n        `✅ Fulfilled promise ${position + 1} in ${delay}ms`\n      );\n    })\n    .catch(({ position, delay }) => {\n      Notiflix.Notify.warning(\n        `❌ Rejected promise ${position + 1} in ${delay}ms`\n      );\n    })\n    .finally(\n      (delayValueRef.value = ''),\n      (stepValueRef.value = ''),\n      (amountValueRef.value = '')\n    );\n}\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$delayValueRef","document","querySelector","$ce04d3a99e08e73b$var$stepValueRef","$ce04d3a99e08e73b$var$amountValueRef","$ce04d3a99e08e73b$var$createPromise","position1","delay1","Promise","resolve","reject","Math","random","position","delay","then","param","$parcel$interopDefault","Notify","success","concat","catch","warning","finally","value","addEventListener","event","preventDefault","quantity","step","i","setTimeout","$ce04d3a99e08e73b$var$startGenerationPromise","Number"],"version":3,"file":"03-promises.8308ef29.js.map"}